<!DOCTYPE html>
<html>
<head>
   <!--
      JavaScript 6th Edition
      Chapter 7
      Hands-on Project 7-3

      Author:   Logan Kim
      Date:     March 15, 2018

      Filename: index.htm
   -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Hands-on Project 7-3</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="modernizr.custom.05819.js"></script>
</head>

<body>
    <header>
        <h1>
            Hands-on Project 7-3
        </h1>
    </header>
    <article>
        <h2>Lunch selections</h2>
        <form>
            <input type="checkbox" id="item1" value="799" />
            <label for="item1">Fried chicken ($7.99)</label>
            <input type="checkbox" id="item2" value="999" />
            <label for="item2">Fried halibut ($9.99)</label>
            <input type="checkbox" id="item3" value="799" />
            <label for="item3">Hamburger ($7.99)</label>
            <input type="checkbox" id="item4" value="1299" />
            <label for="item4">Grilled salmon ($12.99)</label>
            <input type="checkbox" id="item5" value="599" />
            <label for="item5">Side salad ($5.99)</label>
            <input type="button" value="Calculate" id="sButton" />
        </form>
        <table>
            <colgroup>
                <col class="label" />
                <col class="amount" />
            </colgroup>
            <tbody>
                <tr>
                    <td>Item total</td>
                    <td>0.00</td>
                </tr>
                <tr>
                    <td>Tax</td>
                    <td>0.00</td>
                </tr>
                <tr>
                    <td>Total with tax</td>
                    <td>$0.00</td>
                </tr>
            </tbody>
        </table>
    </article>
    <script>
        function calculateTotalCost() {
            var total = 0;
            var afterTax = 0;
            var item = document.getElementsByTagName("input");
            var data = document.getElementsByTagName("td");
            for (var i = 0; i <= 4; i++) {
                if (item[i].checked) {
                    total += (item[i].value * 1);
                }
            }
            afterTax = total * 1.05;
            data[1].innerHTML = (total / 100).toFixed(2);
            data[3].innerHTML = (total * 0.05 / 100).toFixed(2);
            data[5].innerHTML = "$" + (afterTax / 100).toFixed(2);
        }
        var button = document.getElementById("sButton");
        if (button.addEventListener) {
            button.addEventListener("click", calculateTotalCost, false);
        } else if (button.attachEvent)  {
            button.attachEvent("onclick", calculateTotalCost);
        }
    </script>
</body>
</html>
